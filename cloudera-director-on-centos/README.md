# Deploy and Manage Cloudera Clusters on Azure with Cloudera Director
Cloudera Director provides a simple way to deploy and manage the lifecycle of Cloudera Enterprise on Azure. Use Director to grow, shrink, monitor, and manage your transient clusters or, in conjunction with Cloudera Manager, persistent clusters.

For more details regarding this template, please see the [Overview](#overview) section below.

# By clicking "Deploy to Azure" you agree to the Terms and Conditions below.
<a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fcloudera-director-on-centos%2Fazuredeploy.json" target="_blank">
    <img src="http://azuredeploy.net/deploybutton.png" />
</a>


Version 2016-05-26

END USER LICENSE TERMS AND CONDITIONS

THESE TERMS AND CONDITIONS (THESE “TERMS”) APPLY TO YOUR USE OF THE PRODUCTS (AS DEFINED BELOW) PROVIDED BY CLOUDERA, INC. (“CLOUDERA”).

PLEASE READ THESE TERMS CAREFULLY.

IF YOU (“YOU” OR “CUSTOMER”) PLAN TO USE ANY OF THE PRODUCTS ON BEHALF OF A COMPANY OR OTHER ENTITY, YOU REPRESENT THAT YOU ARE THE EMPLOYEE OR AGENT OF SUCH COMPANY (OR OTHER ENTITY) AND YOU HAVE THE AUTHORITY TO ACCEPT ALL OF THE TERMS AND CONDITIONS SET FORTH IN AN ACCEPTED REQUEST (AS DEFINED BELOW) AND THESE TERMS (COLLECTIVELY, THE “AGREEMENT”) ON BEHALF OF SUCH COMPANY (OR OTHER ENTITY).

BY USING ANY OF THE PRODUCTS, YOU ACKNOWLEDGE AND AGREE THAT:
(A) YOU HAVE READ ALL OF THE TERMS AND CONDITIONS OF THIS AGREEMENT;
(B) YOU UNDERSTAND ALL OF THE TERMS AND CONDITIONS OF THIS AGREEMENT;
(C) YOU AGREE TO BE LEGALLY BOUND BY ALL OF THE TERMS AND CONDITIONS SET FORTH IN THIS AGREEMENT

IF YOU DO NOT AGREE WITH ANY OF THE TERMS OR CONDITIONS OF THESE TERMS, YOU MAY NOT USE ANY PORTION OF THE PRODUCTS.

THE “EFFECTIVE DATE” OF THIS AGREEMENT IS THE DATE YOU FIRST DOWNLOAD ANY OF THE PRODUCTS.

1. Product. For the purpose of this Agreement, “Product” shall mean any of Cloudera’s products and software including but not limited to: Cloudera Manager, Cloudera Enterprise, Cloudera Live, Cloudera Express, Cloudera Director, any cloud-based service, any trial software, and any software related to the foregoing.

2. Entire Agreement. This Agreement includes these Terms, any exhibits or web links attached to or referenced in these Terms and any terms set forth on the Cloudera web site at http://www.cloudera.com/documentation/other/Licenses/Third-Party-Licenses/Third-Party-Licenses.html. The content referenced by the exhibits or web links attached to or referenced in these Terms, and the content on the Cloudera website at http://www.cloudera.com/documentation/other/Licenses/Third-Party-Licenses/Third-Party-Licenses.html are hereby incorporated by reference into this Agreement in their entirety as they appear on the Effective Date of this Agreement, and as may be updated by Cloudera in its sole discretion from time to time.. This Agreement is the entire agreement of the parties regarding the subject matter hereof, superseding all other agreements between them, whether oral or written, regarding the subject matter hereof.

3. License Delivery. Cloudera grants to Customer a nonexclusive, nontransferable, nonsublicensable, revocable and limited license to access and use the applicable Product as defined above in Section 1 solely for Customer’s internal purposes. The Product is delivered via electronic download or online access made available following Customer’s acceptance of this Agreement.

4. License Restrictions. Unless expressly otherwise set forth in this Agreement, Customer will not:

    (a) modify, translate or create derivative works of the Product;
    (b) decompile, reverse engineer or reverse assemble any portion of the Product or attempt to discover any source code or underlying ideas or algorithms of the Product;
    (c) sell, assign, sublicense, rent, lease, loan, provide, distribute or otherwise transfer all or any portion of the Product;
    (d) make, have made, reproduce or copy the Product; (e) remove or alter any trademark, logo, copyright or other proprietary notices associated with the Product; and
    (f) cause or permit any other party to do any of the foregoing.

5. Ownership. As between Cloudera and Customer and subject to the grants under this Agreement, Cloudera owns all right, title and interest in and to: (a) the Product (including, but not limited to, any modifications thereto or derivative works thereof); (b) all ideas, inventions, discoveries, improvements, information, creative works and any other works discovered, prepared or developed by Cloudera in the course of or resulting from the provision of any services under this Agreement; and (c) any and all Intellectual Property Rights embodied in the foregoing. For the purpose of this Agreement, “Intellectual Property Rights” means any and all patents, copyrights, moral rights, trademarks, trade secrets and any other form of intellectual property rights recognized in any jurisdiction, including applications and registrations for any of the foregoing. As between the parties and subject to the terms and conditions of this Agreement, Customer owns all right, title and interest in and to the data generated by the use of the Products by Customer. There are no implied licenses in this Agreement, and Cloudera reserves all rights not expressly granted under this Agreement. No licenses are granted by Cloudera to Customer under this Agreement, whether by implication, estoppels or otherwise, except as expressly set forth in this Agreement.

6. Nondisclosure. “Confidential Information” means all information disclosed (whether in oral, written, or other tangible or intangible form) by Cloudera to Customer concerning or related to this Agreement or Cloudera (whether before, on or after the Effective Date) which Customer knows or should know, given the facts and circumstances surrounding the disclosure of the information by Customer, is confidential information of Cloudera. Confidential Information includes, but is not limited to, the components of the business plans, the Products, inventions, design plans, financial plans, computer programs, know-how, customer information, strategies and other similar information. Customer will, during the term of this Agreement and thereafter, maintain in confidence the Confidential Information and will not use such Confidential Information except as expressly permitted herein. Customer will use the same degree of care in protecting the Confidential Information as Customer uses to protect its own confidential information from unauthorized use or disclosure, but in no event less than reasonable care. Confidential Information will be used by Customer solely for the purpose of carrying out Customer’s obligations under this Agreement. In addition, Customer: (a) will not reproduce Confidential Information, in any form, except as required to accomplish Customer’s obligations under this Agreement; and (b) will only disclose Confidential Information to its employees and consultants who have a need to know such Confidential Information in order to perform their duties under this Agreement and if such employees and consultants have executed a non-disclosure agreement with Customer with terms no less restrictive than the non-disclosure obligations contained in this Section. Confidential Information will not include information that: (i) is in or enters the public domain without breach of this Agreement through no fault of Customer; (ii) Customer can reasonably demonstrate was in its possession prior to first receiving it from Cloudera; (iii) Customer can demonstrate was developed by Customer independently and without use of or reference to the Confidential Information; or (iv) Customer receives from a third-party without restriction on disclosure and without breach of a nondisclosure obligation. Notwithstanding any terms to the contrary in this Agreement, any suggestions, comments or other feedback provided by Customer to Cloudera with respect to the Products (collectively, “Feedback”) will constitute Confidential Information. Further, Cloudera will be free to use, disclose, reproduce, license and otherwise distribute, and exploit the Feedback provided to it as it sees fit, entirely without obligation or restriction of any kind on account of Intellectual Property Rights or otherwise.  Subject to applicable law, in connection with the performance of this Agreement and Customer’s use of the Cloudera Products, (i) Cloudera agrees that it will not require Customer to deliver to Cloudera any personally identifiable information (as defined by the National Institute of Standards and Technology) (“PII”) and (ii) Customer agrees not to deliver any PII to Cloudera.

7. Warranty Disclaimer. Customer represents warrants and covenants that: (a) all of its employees and consultants will abide by the terms of this Agreement; (b) it will comply with all applicable laws, regulations, rules, orders and other requirements, now or hereafter in effect, of any applicable governmental authority, in its performance of this Agreement. Notwithstanding any terms to the contrary in this Agreement, Customer will remain responsible for acts or omissions of all employees or consultants of Customer to the same extent as if such acts or omissions were undertaken by Customer. THE PRODUCTS ARE PROVIDED ON AN “AS IS” OR “AS AVAILABLE” BASIS WITHOUT ANY REPRESENTATIONS, WARRANTIES, COVENANTS OR CONDITIONS OF ANY KIND. CLOUDERA AND ITS SUPPLIERS DO NOT WARRANT THAT ANY OF THE PRODUCTS WILL BE FREE FROM ALL BUGS, ERRORS, OR OMISSIONS. CLOUDERA AND ITS SUPPLIERS DISCLAIM ANY AND ALL OTHER WARRANTIES AND REPRESENTATIONS (EXPRESS OR IMPLIED, ORAL OR WRITTEN) WITH RESPECT TO THE PRODUCTS WHETHER ALLEGED TO ARISE BY OPERATION OF LAW, BY REASON OF CUSTOM OR USAGE IN THE TRADE, BY COURSE OF DEALING OR OTHERWISE, INCLUDING ANY AND ALL (I) WARRANTIES OF MERCHANTABILITY, (II) WARRANTIES OF FITNESS OR SUITABILITY FOR ANY PURPOSE (WHETHER OR NOT CLOUDERA KNOWS, HAS REASON TO KNOW, HAS BEEN ADVISED, OR IS OTHERWISE AWARE OF ANY SUCH PURPOSE), AND (III) WARRANTIES OF NONINFRINGEMENT OR CONDITION OF TITLE. CUSTOMER ACKNOWLEDGES AND AGREES THAT CUSTOMER HAS RELIED ON NO WARRANTIES.

8. Indemnification. Customer will indemnify, defend and hold Cloudera and its directors, officers, employees, suppliers, consultants, contractors, and agents (“Cloudera Indemnitees”) harmless from and against any and all actual or threatened suits, actions, proceedings (at law or in equity), claims (groundless or otherwise), damages, payments, deficiencies, fines, judgments, settlements, liabilities, losses, costs and expenses (including, but not limited to, reasonable attorney fees, costs, penalties, interest and disbursements) resulting from any claim (including third-party claims), suit, action, or proceeding against any Cloudera Indemnitees, whether successful or not, caused by, arising out of, resulting from, attributable to or in any way incidental to:
(a) any breach of this Agreement (including, but not limited to, any breach of any of Customer’s representations, warranties or covenants);
(b) the negligence or willful misconduct of Customer; or
(c) the data and information used in connection with or generated by the use of the Products.

9. Limitation of Liability. EXCEPT FOR ANY ACTS OF FRAUD, GROSS NEGLIGENCE OR WILLFUL MISCONDUCT, IN NO EVENT WILL: (A) CLOUDERA BE LIABLE TO CUSTOMER OR ANY THIRD-PARTY FOR ANY LOSS OF PROFITS, LOSS OF DATA, LOSS OF USE, LOSS OF REVENUE, LOSS OF GOODWILL, ANY INTERRUPTION OF BUSINESS, ANY OTHER COMMERCIAL DAMAGES OR LOSSES, OR FOR ANY INDIRECT, SPECIAL, INCIDENTAL, EXEMPLARY, PUNITIVE OR CONSEQUENTIAL DAMAGES OF ANY KIND ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT OR THE PRODUCTS (INCLUDING RELATED TO YOUR USE OR INABILITY TO USE THE PRODUCTS), REGARDLESS OF THE FORM OF ACTION, WHETHER IN CONTRACT, TORT, STRICT LIABILITY OR OTHERWISE, EVEN IF CLOUDERA HAS BEEN ADVISED OR IS OTHERWISE AWARE OF THE POSSIBILITY OF SUCH DAMAGES; AND (B) CLOUDERA’S TOTAL LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT EXCEED THE GREATER OF THE AGGREGATE OF THE AMOUNTS PAID OR PAYABLE TO CLOUDERA, IF ANY, UNDER THIS AGREEMENT OR FIVE U.S. DOLLARS. MULTIPLE CLAIMS WILL NOT EXPAND THIS LIMITATION. THE FOREGOING LIMITATIONS, EXCLUSIONS AND DISCLAIMERS SHALL APPLY TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, EVEN IF ANY REMEDY FAILS ITS ESSENTIAL PURPOSE.

10. Third-Party Suppliers. The Product may include software or other code distributed subject to licenses from third-party suppliers (“Third Party Software”). Customer accepts and agrees to the terms of such third-party licenses applicable to the Third Party Software and acknowledges that such third-party suppliers disclaim and make no representation or warranty with respect to the Products or any portion thereof and assume no liability for any claim that may arise with respect to the Products or Customer’s use or inability to use the same. Third Party Software licenses are set forth at this link :http://www.cloudera.com/content/cloudera/en/documentation/Licenses/Third-Party-Licenses/Third-Party-Licenses.html

11. Transaction Data.  Cloudera will maintain commercially reasonable administrative, physical and technical safeguards designed for the protection, confidentiality and integrity of all Transaction Data (as defined below).  All Transaction Data will be handled in accordance with the provisions set forth in the Data Policy found on Cloudera’s website (the “Data Policy”), and Customer agrees to be bound by and comply with the Data Policy.  Transaction Data shall not be considered “Confidential Information” as defined in these Terms, and instead shall be governed by the confidentiality and non-use provisions set forth in the Data Policy.   As between Cloudera and Customer, Customer or its licensors own all right, title, and interest in and to the Transaction Data.  Cloudera obtains no ownership rights under this Agreement from Customer or its licensors to any Transaction Data, including any related Intellectual Property Rights.  In order for Cloudera to provide the Cloudera Online Services, Customer grants to Cloudera certain rights with respect to the Transaction Data, including but not limited to the right to: (i) transmit, store and copy the Transaction Data in order to display the Transaction Data to Customer and its End Users; and (ii) make backups of the Transaction Data in order to prevent data loss.  Customer grants Cloudera the rights to use the Transaction Data as set forth in the Data Policy.  “Transaction Data” means all data that is (i) input into the Products by Customer or any end user, (ii) generated by Cloudera’s systems as a result of Customer’s or its end users’ use of the Products, or (iii) data that is generated for troubleshooting and diagnostics, in each case that is transmitted to Cloudera.  Transaction Data does not include Customer Data.

12. Google Analytics. To improve the product and gather feedback pro-actively from users, Google Analytics will be enabled by default in the product. Users have the option to disable this feature via the ‘Administration -> Properties’ settings in the product. Link to Google Analytics Terms of Service:http://www.google.com/analytics/terms/us.html

13. Diagnostics and Reporting. Customer acknowledges that the product contains a diagnostic functionality as its default configuration. The diagnostic function collects configuration files, node count, software versions, log files and other information regarding Customer’s environment and use of the Products, and reports that information to Cloudera for use to proactively identify potential support issues, to understand Customer’s environment, and to enhance the usability of the Products. While Customer may elect to change the diagnostic function in order to disable regular automatic reporting or to report only on filing of a support ticket, Customer agrees that, no less than once per quarter, it will run the diagnostic function and report the results to Cloudera.

14. Termination. The term of this Agreement commences on the Effective Date and continues for the period stated on Cloudera’s web site, unless terminated for Customer’s breach of any material term herein. Notwithstanding any terms to the contrary in this Agreement, in the event of a breach of Sections 3, 4 or 6, Cloudera may immediately terminate this Agreement. Upon expiration or termination of this Agreement: (a) all rights granted to Customer under this Agreement will immediately cease; and (b) Customer will promptly provide Cloudera with all Confidential Information (including, but not limited to the Products) then in its possession or destroy all copies of such Confidential Information, at Cloudera’s sole discretion and direction. Notwithstanding any terms to the contrary in this Agreement, this sentence and the following Sections will survive any termination or expiration of this Agreement: 4, 6, 7, 8, 9, 10, 13, 15, and 16.

15. Beta Software. In the event that Customer uses the functionality in the Product for the purposes of downloading and installing any Cloudera-provided public beta software, such beta software will be subject either to the Apache 2 license, or to the terms and conditions of the Public Beta License located here: (http://www.cloudera.com/content/www/en-us/legal/terms-and-conditions/ClouderaBetaLicense.html) as applicable.

16. Third Party Resources.  Cloudera Products may include hyperlinks to other web sites or content or resources (“Third Party Resources”), and the functionality of such Cloudera Products may depend upon the availability of such Third Party Resources. Cloudera has no control over any Third Party Resources. You acknowledge and agree that Cloudera is not responsible for the availability of any such Third Party Resources, and does not endorse any advertising, products or other materials on or available from such Third Party Resources. You acknowledge and agree that Cloudera is not liable for any loss or damage which may be incurred by you as a result of the availability of Third Party Resources, or as a result of any reliance placed by you on the completeness, accuracy or existence of any advertising, products or other materials on, or available from, such Third Party Resources.

17.  Miscellaneous. This Agreement will be governed by and construed in accordance with the laws of the State of California applicable to agreements made and to be entirely performed within the State of California, without resort to its conflict of law provisions. The parties agree that any action at law or in equity arising out of or relating to this Agreement will be filed only in the state and federal courts located in Santa Clara County, and the parties hereby irrevocably and unconditionally consent and submit to the exclusive jurisdiction of such courts over any suit, action or proceeding arising out of this Agreement. Upon such determination that any provision is invalid, illegal, or incapable of being enforced, the parties will negotiate in good faith to modify this Agreement so as to effect the original intent of the parties as closely as possible in an acceptable manner to the end that the transactions contemplated hereby are fulfilled. Except for payments due under this Agreement, neither party will be responsible for any failure to perform or delay attributable in whole or in part to any cause beyond its reasonable control, including but not limited to acts of God (fire, storm, floods, earthquakes, etc.), civil disturbances, disruption of telecommunications, disruption of power or other essential services, interruption or termination of service by any service providers being used by Cloudera to link its servers to the Internet, labor disturbances, vandalism, cable cut, computer viruses or other similar occurrences, or any malicious or unlawful acts of any third-party (each a “Force Majeure Event”). In the event of any such delay the date of delivery will be deferred for a period equal to the time lost by reason of the delay. Any notice or communication required or permitted to be given hereunder must be in writing signed or authorized by the party giving notice, and may be delivered by hand, deposited with an overnight courier, sent by confirmed email, confirmed facsimile or mailed by registered or certified mail, return receipt requested, postage prepaid, in each case to the address below or at such other address as may hereafter be furnished in accordance with this Section. No modification, addition or deletion, or waiver of any rights under this Agreement will be binding on a party unless made in an agreement clearly understood by the parties to be a modification or waiver and signed by a duly authorized representative of each party. No failure or delay (in whole or in part) on the part of a party to exercise any right or remedy hereunder will operate as a waiver thereof or effect any other right or remedy. All rights and remedies hereunder are cumulative and are not exclusive of any other rights or remedies provided hereunder or by law. The waiver of one breach or default or any delay in exercising any rights will not constitute a waiver of any subsequent breach or default.

http://www.cloudera.com/content/www/en-us/legal/terms-and-conditions/cloudera-standard-license-v4-2016-05-26.html

# Overview

This template deploys a Cloudera Director server VM with premium storage, along with the following required resources and services:

- A new Virtual Network and subnet
- New Availability Sets
- A MySQL database server for Cloudera Manager (CM) and Cloudera Distribution of Hadoop (CDH)
- A DNS server in a reference implementation to provide forward and reverse DNS resolution of private IP addresses in the Virtual Network

After the deployment is complete, the Director server will be configured with a sample environment. You can then start deploying clusters with CentOS and RHEL VM images. Note that this is a reference implementation and should be modified to support your production environment.

The template expects the following parameters:

| Name   | Description | Default Value |
|:--- |:---|:---|
| adminUsername  | Administrator user name used when provisioning virtual machines | azureuser |
| adminPassword  | Administrator password used when provisioning virtual machines | |
| dbUsername | MySQL database admin username | dbadmin |
| dbPassword | MySQL database admin password | |
| subscriptionId | Subscription ID Cloudera Director server should use for creating Azure environment | |
| tenantId | Azure Active Directory (AAD) ID | |
| clientId | AAD client ID | |
| clientSecret | AAD client secret| |
| directorSize | The size of the VM for Director server | Standard_DS12_v2 |
| masterType | Master instance template VM size | Standard_DS14 |
| workerType | Worker instance template VM size | Standard_DS14 |
| edgeType | Edge instance template VM size | Standard_DS14 |
| directorEnvironmentName | Environment name use by Cloudera Director | Director_Azure_Deployment |
| dnsNamePrefix | Unique DNS name prefix where the director VM will be exposed | |
| dnsNameSuffix | Unique DNS suffix where the VMs will be exposed | |
| virtualNetworkName | The name of the virtual network provisioned for the deployment | clouderavnet |
| vnetNewOrExisting | Indicator for new or exiting Virtual Network (can only deploy into new Virtual Network) | new |
| subnetName | Subnet name for the virtual network where resources will be provisioned | clouderasubnet |
| addressPrefix | Virtual Network address CIDR | 10.3.0.0/16 |
| subnetPrefix | CIDR for the subnet where VMs will be placed | 10.3.0.0/16 |
| directorServerIPAddress | IP address for the director server | 10.3.0.4 |
| company | Your company | |
| emailAddress | Your email address | |
| businessPhone | Your business phone number | |
| firstName | Your first name | |
| lastName | Your last name | |
| jobRole | Your job role | |

## Prerequisites

Before you can deploy this template, you must create a Service Principal in AAD. The [Director Documentation for Azure](http://www.cloudera.com/documentation/director/latest/topics/director_get_started_azure_obtain_credentials.html) has details on how to obtain the service principal.

## How to create clusters with Cloudera Director

Please follow the [Cloudera Director documentation](http://www.cloudera.com/documentation/director/latest/topics/director_get_started_azure_creating_cluster.html) to create clusters. This template will pre-create a Database template and a set of master, worker and edge instance templates in Cloudera Director. You can use those pre-created templates to create clusters.

## Notes

- Scripts logs can be found at `/var/log/cloudera-azure-initialize.log`.

## How to access Cloudera Director deployed by this template

By default the Network Security Groups in this offering only allow public IP access to port 22 (SSH).

There are two ways to access services like Cloudera Director (port 7189):
1. Use a SOCKS proxy (preferred)
1. Add inbound rules to the Network Security Group to allow access to ports.

The two solutions are detailed below.

### SOCKS Proxy

A SOCKS proxy changes your browser to do lookups directly from your Microsoft Azure network and allows you to connect to services using private IP addresses and internal FQDNs.

This approach will do the following:
* Set up a single SSH tunnel to one of the hosts on the network and create a SOCKS proxy on that host.
* Change the browser configuration to do all lookups via that SOCKS proxy host.

#### Network Prerequisites

The following are prerequisites for connecting to your cluster using a SOCKS proxy:
* The host that you proxy to must be reachable from the public internet (or the network that you’re connecting from).
* The host that you proxy to must be on the same network as the Cloudera services you’re connecting to. For example, with this Cloudera Director offering, tunnel to the Cloudera Director host.

#### Find the Public IP of the correct host

For the Cloudera Director offering only the Cloudera Director VM created, use its public IP.

#### Start the SOCKS Proxy

##### On Linux

To start a SOCKS5 proxy over SSH run the following command and input the VM password at the prompt:
```
ssh -CND 1080 username@publicIP_of_VM
```
Or, if you’re using SSH keys:
```
ssh -i your-key-file.pem -CND 1080 username@publicIP_of_VM
```
The parameters are as follows:

* `i your-key-file.pem` specifies the path to the private key
* `C` sets up compression
* `N` suppresses any command execution once established
* `D` sets up the SOCKS proxy on a port
* `1080` is the port to set the SOCKS proxy locally

##### On Windows

[Follow the instructions here](https://blogs.msdn.microsoft.com/pliu/2017/01/17/ssh-tunnel-to-endpoints-in-azure-vnet-from-windows/).

#### Configure Your Browser to Use the Proxy

##### On Google Chrome

By default, Google Chrome uses system-wide proxy settings on a per-profile basis. To get around that we will launch Chrome via the command line and specify the following:
* The SOCKS proxy port to use (this must be the same value used above)
* The profile to use (this example will create a new profile)

This will create a new profile and launch a new instance of Chrome that won’t interfere with your current running instance of Chrome.

**Linux**

```
/usr/bin/google-chrome \
--user-data-dir="$HOME/chrome-with-proxy" \
--proxy-server="socks5://localhost:1080"
```

**Mac OS X**

```
"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" \
--user-data-dir="$HOME/chrome-with-proxy" \
--proxy-server="socks5://localhost:1080"
```

**Microsoft Windows**

```
"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" ^
--user-data-dir="%USERPROFILE%\chrome-with-proxy" ^
--proxy-server="socks5://localhost:1080"
```

Now in this Chrome session you can connect to any other host on the Virtual Network using the private IP address or internal FQDN. For example, if you proxy to the Cloudera Director server, you can connect to Cloudera Director at `localhost:7189`.

### Network Security Group

Warning: this method is **NOT** recommended for anything besides a PoC. If not carefully locked down the data in the cluster will be accessible to hackers and malicious entities.

On [portal.azure.com](https://portal.azure.com) find the Network Security Group(s) and add inbound rules for the various services. You may have to create this rules in multiple Network Security Groups. [Here's Cloudera documentation for more information on ports used by Cloudera Manager, CDH components, managed services, and third-party components](http://www.cloudera.com/documentation/enterprise/latest/topics/cm_ig_ports.html).
