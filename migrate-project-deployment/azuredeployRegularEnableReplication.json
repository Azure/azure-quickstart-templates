{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "migrationItemName": {
            "type": "string"
        },
        "policyId": {
            "type": "string"
        },
        "vmWareMachineId": {
            "type": "string"
        },
        "targetResourceGroupId": {
            "type": "string"
        },
        "targetNetworkId": {
            "type": "string"
        },
        "targetSubnetName": {
            "type": "string"
        },
        "licenseType": {
            "type": "string"
        },
        "diskId": {
            "type": "string"
        },
        "lsaAccountId": {
            "type": "string"
        },
        "sasName": {
            "type": "string"
        },
        "diskType": {
            "type": "string"
        },
        "dataMoverAccountId": {
            "type": "string"
        },
        "snapRunAsAccountId": {
            "type": "string"
        },
        "targetBootDiagnosticsStorageAccountId": {
            "type": "string"
        }
    },
    "variables": {  },
    "functions": [  ],
    "resources": [
        {
            "type": "Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationMigrationItems",
            "apiVersion": "2018-01-10",
            "name": "[parameters('migrationItemName')]",
            "properties": {
                "policyId": "[parameters('policyId')]",
                "providerSpecificDetails": {
                    "instanceType": "VMwareCbt",
                    "vmwareMachineId": "[parameters('vmwareMachineId')]",
                    "targetResourceGroupId": "[parameters('targetResourceGroupId')]",
                    "targetNetworkId": "[parameters('targetNetworkId')]",
                    "targetSubnetName": "[parameters('targetSubnetName')]",
                    "licenseType": "[parameters('licenseType')]",
                    "disksToInclude": [
                        {
                            "diskId": "[parameters('diskId')]",
                            "isOSDisk": "true",
                            "logStorageAccountId": "[parameters('lsaAccountId')]",
                            "logStorageAccountSasSecretName": "[parameters('sasName')]",
                            "diskType": "[parameters('diskType')]"
                        }
                    ],
                    "dataMoverRunAsAccountId": "[parameters('dataMoverAccountId')]",
                    "snapshotRunAsAccountId": "[parameters('snapRunAsAccountId')]",
                    "targetBootDiagnosticsStorageAccountId": "[parameters('targetBootDiagnosticsStorageAccountId')]",
                    "performAutoResync": "true",
                    "targetVmName": "prsadhu-TestVM"
                }
            }
        }
    ]
  }