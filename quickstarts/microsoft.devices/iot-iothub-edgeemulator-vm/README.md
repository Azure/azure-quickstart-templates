---
description: This template creates an IOT Hub and Virtual Machine Ubuntu edge simulator.
page_type: sample
products:
- azure
- azure-resource-manager
urlFragment: iot-iothub-edgeemulator-vm
languages:
- json
---
# Create an IOT Hub and Ubuntu edge simulator

![Azure Public Test Date](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/PublicLastTestDate.svg)
![Azure Public Test Result](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/PublicDeployment.svg)

![Azure US Gov Last Test Date](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/FairfaxLastTestDate.svg)
![Azure US Gov Last Test Result](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/FairfaxDeployment.svg)

![Best Practice Check](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/BestPracticeResult.svg)
![Cred Scan Check](https://azurequickstartsservice.blob.core.windows.net/badges/quickstarts/microsoft.devices/iot-iothub-edgeemulator-vm/CredScanResult.svg)

[![Deploy To Azure](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/1-CONTRIBUTION-GUIDE/images/deploytoazure.svg?sanitize=true)](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fquickstarts%2Fmicrosoft.devices%2Fiot-iothub-edgeemulator-vm%2Fazuredeploy.json)
[![Visualize](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/1-CONTRIBUTION-GUIDE/images/visualizebutton.svg?sanitize=true)](http://armviz.io/#/?load=https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fquickstarts%2Fmicrosoft.devices%2Fiot-iothub-edgeemulator-vm%2Fazuredeploy.json)

The purpose of this ARM Template is **deploy an IoT Hub** with an **Ubuntu Edge Simulator**.
The Linux Ubuntu virtual machine is configured to be an IoT Edge device

For this task you will:

1. Create an IoT Hub.
2. Register an IoT Edge device to your IoT hub.
3. Install and start the IoT Edge runtime on your virtual device.

Look at the our GettingStarted Tutorial for a step by step demo.

If you are new to Azure IoT Edge, see:

- [Azure IoT Edge](https://docs.microsoft.com/azure/iot-edge/about-iot-edge)
- [Azure IoT Edge template reference](https://docs.microsoft.com/azure/templates/microsoft.devices/2019-03-22/iothubs)

If you are new to template development, see:

- [Azure Resource Manager documentation](https://docs.microsoft.com/azure/azure-resource-manager/)

`Tags: Azure4Student, IoT, Azure IoT Edge, Azure IoT Hub, Intermediate, Microsoft.Devices/IotHubs, Microsoft.Devices/provisioningServices, Microsoft.Network/networkInterfaces, Microsoft.Network/networkSecurityGroups, Microsoft.Network/virtualNetworks, Microsoft.Network/publicIpAddresses, Microsoft.Compute/virtualMachines`

